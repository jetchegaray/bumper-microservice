<!-- <p class="margin-bottom-20"><strong>USUARIO Y CONTRASEÑA</strong></p> -->

<!-- COMMERCE SECTION -->
<h2 class="conductor-text margin-bottom-20 margin-top-no xs-hide" ng-if="$ctrl.isCommerce">Registrá tu negocio <strong>gratis</strong></h2>
<!-- USER SECTION -->
<h2 class="conductor-text margin-bottom-20 margin-top-no" ng-if="!$ctrl.isCommerce && !$ctrl.isFleet">Registrate <strong>gratis</strong></h2>

<h2 class="conductor-text margin-bottom-20 margin-top-no" ng-if="$ctrl.isFleet">Bienvenido a flotas.autominuto</h2>
<h4 class="conductor-text margin-bottom-20 margin-top-no" ng-if="$ctrl.isFleet">Registrate gratis para gestionar tu flota</h4>


<form name="$ctrl.signUpForm" class="col-md-11 padding-left-no padding-right-no padding-no" novalidate>

  <div class="container-signup">
    <!-- User / email -->
    <div
        ng-class="{'has-error errorMessage': $ctrl.displayError('email')}"
        class="form-group">
        <input
        type="email"
        name="email"
        placeholder="Ingresá tu email"
        class="form-control margin-bottom-20"
        ng-model="$ctrl.email"
        onfocusout="this.value = this.value.toLowerCase();"
        onkeyup="this.value = this.value.toLowerCase();"
        ng-required="true"
        ng-class="{'margin-bottom-10' : $ctrl.displayError('email')}">
        <span ng-messages="$ctrl.signUpForm.email.$error" ng-if="$ctrl.displayError('email')" role="alert">
        <span ng-message="required">Email es obligatorio</span>
        <span ng-message="email">La dirección de correo no es válida</span>
        </span>
    </div>

    <!-- Tooltip when caps lock key is pressed -->
    <div class="tootiop-caps-lock">
        <tooltip-gen position="top" tittle-text="" image-rute="" text="Tenés activada la tecla mayúscula."></tooltip-gen>
    </div>
    <!-- Password -->
    <div
        ng-class="{'has-error errorMessage' : $ctrl.displayError('password')}"
        class="form-group">
        <input
        type="password"
        name="password"
        placeholder="Ingresá tu contraseña"
        class="form-control margin-bottom-20"
        ng-model="$ctrl.password"
        ng-required="true"
        ng-class="{'margin-bottom-10' : $ctrl.displayError('password')}"
        ng-pattern="$ctrl.validations.password.pattern"
        ng-minlength="$ctrl.validations.password.min"
        ng-maxlength="$ctrl.validations.password.max"
        ng-keypress="$ctrl.onKeydown($event)">
        <span ng-messages="$ctrl.signUpForm.password.$error" ng-if="$ctrl.displayError('password')" role="alert">
        <span ng-message="required">La contraseña es obligatoria</span>
        <span ng-message="pattern">Ingresar solo letras y números</span>
        <span ng-message="minlength">Debe contar con al menos {{ $ctrl.validations.password.min }} caracteres</span>
        <span ng-message="maxlength">No puede ser mayor a {{ $ctrl.validations.password.max }} caracteres</span>
        </span>
    </div>

    <!-- Tooltip when caps lock key is pressed -->
    <div class="tootiop-caps-lock-confirm-password">
        <tooltip-gen position="top" tittle-text="" image-rute="" text="Tenés activada la tecla mayúscula."></tooltip-gen>
    </div>
    <!-- Confirm password -->
    <div
        ng-class="{ 'has-error errorMessage': $ctrl.displayError('confirmPassword')}"
        class="form-group">
        <input
        type="password"
        name="confirmPassword"
        placeholder="Confirmar contraseña"
        class="form-control margin-bottom-20"
        nx-equal-ex="$ctrl.password"
        ng-model="$ctrl.confirmPassword"
        ng-required='true'
        ng-maxlength="$ctrl.validations.password.max"
        ng-class="{'margin-bottom-10' : $ctrl.displayError('confirmPassword')}"
        ng-keypress="$ctrl.onKeydown($event, '-confirm-password')"
        required>
        <span ng-messages="$ctrl.signUpForm.confirmPassword.$error" ng-if="$ctrl.displayError('confirmPassword')" role="alert">
        <span ng-message="required">Confirmar la contraseña es obligatorio</span>
        <span ng-message="nxEqualEx">Las contraseñas no coinciden</span>
        </span>
    </div>

    <div ng-if="!$ctrl.isCommerce && !$ctrl.isFleet">
        <div class="form-group">
       
            <!-- <div class="col-md-12 addCommerceStep5 padding-no"> -->
            <div class="col-md-12 col-xs-12 padding-left-no margin-top-10">
                <h5 class="field-title phone-title">Whatsapp (Opcional)</h5>
                <label class="whatsapp-check">
                    <img src="assets/images/icons/whats-icon.png">
                </label>
                Si lo ingresas, al aceptar un presupuesto los comercios podran comunicarse con vos. 
            </div>
            
            <!-- CARACTERISTICA -->
            <div class="col-md-3 col-xs-3 padding-no">
                <div class="input-group margin-bottom-10 col-xs-12" ng-class="{ 'has-error errorMessage' : $ctrl.signUpForm.prefixPhone.$dirty && $ctrl.signUpForm.prefixPhone.$invalid || $ctrl.signUpForm.$submitted  && $ctrl.signUpForm.prefixPhone.$invalid}">
                    <input type="text" class="form-control" placeholder="sin 0 ej: 11"
                            ng-pattern="/^[1-9]\d+$/"
                            ng-minlength="1"  ng-maxlength="5" ng-model="$ctrl.phone.areaCode" name="prefixPhone">
                        <!-- <span style="margin-top: 10px; display: inline-block;">Cód. área sin 0</span> -->
                </div>
                <label style="font-size: 0.7em">Cód. área</label>
            </div>
            <!-- NÚMERO DE TELÉFONO -->
            <div class="col-md-9 col-xs-9 padding-right-no">
              <div class="input-group margin-bottom-10 col-xs-12" ng-class="{ 'has-error errorMessage' : $ctrl.signUpForm.numberPhone.$dirty && $ctrl.signUpForm.numberPhone.$invalid || $ctrl.signUpForm.$submitted  && $ctrl.signUpForm.numberPhone.$invalid}">
                  <input type="text" class="form-control" placeholder="sin el 15 ej: 63234343"
                          ng-pattern="/^[1-9]\d+$/"
                          ng-minlength="6"  ng-maxlength="10" ng-model="$ctrl.phone.number" name="numberPhone">
              </div>
              <label style="font-size: 0.7em">Número</label>
            </div>

            <div ng-messages="$ctrl.signUpForm.prefixPhone.$error" role="alert" ng-if="$ctrl.signUpForm.prefixPhone.$dirty || $ctrl.signUpForm.$submitted" class="col-md-12 padding-no">
                <span ng-message="required" class="error errorMessage">El prefijo es obligatorio</span>
                <span ng-message="minlength, maxlength, pattern" class="errorMessage">El prefijo es inválido, recuerde ingresarlo sin 0 delante</span>
            </div>
            <div ng-messages="$ctrl.signUpForm.numberPhone.$error" role="alert" ng-if="$ctrl.signUpForm.numberPhone.$dirty || $ctrl.signUpForm.$submitted" class="col-md-12 padding-no">
                <span ng-message="required" class="error errorMessage">El número es obligatorio</span>
                <span ng-message="minlength, maxlength, pattern" class="errorMessage">El número es inválido</span>
            </div>
          </div>
        </div>

        <div ng-if="!$ctrl.isCommerce && $ctrl.isFleet">
            <div class="col-md-12 col-xs-12 padding-left-no margin-top-10">
                <h5 class="field-title phone-title">Codigo promocional (Opcional)</h5>
            </div>
            <div class="form-group">
                <input
                type="code"
                name="code"
                placeholder="Codigo promocinal"
                class="form-control margin-bottom-20"
                ng-model="$ctrl.promotionalCode"
                >
           </div>
        </div>    

    </div>

    <!-- Terms & conditions -->
    <div class="clearfix col-md-12 padding-left-no padding-right-no">
        <div>
        <!-- <input type="checkbox"  name="policy" class="terminos-check" ng-model="$ctrl.acceptTerms"  ng-required='true' required>
        --><p class="text-grey terminos">
            Al continuar, acepto los <a href="/terminos-condiciones" target="_blank"><strong class="color-blue">Términos de uso</strong></a><br>
            de Autominuto y reconozco que leí la <a href="/politicas-privacidad" target="_blank"><strong class="color-blue">Política de privacidad</strong></a>
        </p>
        </div>
        <span ng-messages="$ctrl.signUpForm.policy.$error" ng-if="$ctrl.displayError('policy')" role="alert" class="errorMessage">
        <span ng-message="required">Debe chequear que acepta los Términos y condiciones y las Políticas de privacidad</span>
        </span>
    </div>
  </div>

  <!-- Sign up -->
  <div class="container-submit" ng-if="!$ctrl.isFleet">
    <button type="submit" ng-click="$ctrl.signUp()" class="btn btn-lg btn-primary">
      <strong>Crear Cuenta</strong>
    </button>
  </div>
  <div class="container-submit" ng-if="$ctrl.isFleet">
    <button type="submit" ng-click="$ctrl.signUp()" class="btn btn-lg btn-primary">
      <strong>Probalo Gratis</strong>
    </button>
  </div>
</form>